app_name: hotel_reservation
app_structure:
- frontend->search
- frontend->reservation
- frontend->profile
- search->geo
- search->rate
- rate->memcached-rate
- rate->mongodb-rate
- reservation->memcached-reserve
- reservation->mongodb-reservation
- profile->memcached-profile
- profile->mongodb-profile
- geo->mongodb-geo
edge:
  frontend->profile:
  - method: GetProfiles
    name: cachestrong
    position: C
    proto: /users/xzhu/adn-compiler/examples/proto/profile.proto
  - method: GetProfiles
    name: metrics
    position: C
    proto: /users/xzhu/adn-compiler/examples/proto/profile.proto
  - method: GetProfiles
    name: ratelimit
    position: C/S
    proto: /users/xzhu/adn-compiler/examples/proto/profile.proto
  - method: GetProfiles
    name: admissioncontrol
    position: C/S
    proto: /users/xzhu/adn-compiler/examples/proto/profile.proto
  - method: GetProfiles
    name: aclstrong
    position: S
    proto: /users/xzhu/adn-compiler/examples/proto/profile.proto
  frontend->reservation:
  - method: CheckAvailability
    name: metrics
    position: S
    proto: /users/xzhu/adn-compiler/examples/proto/reservation.proto
  - method: CheckAvailability
    name: aclstrong
    position: S
    proto: /users/xzhu/adn-compiler/examples/proto/reservation.proto
  - method: CheckAvailability
    name: bandwidthlimit
    position: S
    proto: /users/xzhu/adn-compiler/examples/proto/reservation.proto
  - method: CheckAvailability
    name: circuitbreaker
    position: S
    proto: /users/xzhu/adn-compiler/examples/proto/reservation.proto
  frontend->search:
  - method: Nearby
    name: mutation
    position: C/S
    proto: /users/xzhu/adn-compiler/examples/proto/search.proto
  - method: Nearby
    name: aclstrong
    position: C/S
    proto: /users/xzhu/adn-compiler/examples/proto/search.proto
  - method: Nearby
    name: ratelimit
    position: S
    proto: /users/xzhu/adn-compiler/examples/proto/search.proto
  search->geo:
  - method: Nearby
    name: bandwidthlimit
    position: C
    proto: /users/xzhu/adn-compiler/examples/proto/geo.proto
  - method: Nearby
    name: logging
    position: C
    proto: /users/xzhu/adn-compiler/examples/proto/geo.proto
  - method: Nearby
    name: circuitbreaker
    position: C/S
    proto: /users/xzhu/adn-compiler/examples/proto/geo.proto
  - method: Nearby
    name: aclstrong
    position: S
    proto: /users/xzhu/adn-compiler/examples/proto/geo.proto
  - method: Nearby
    name: ratelimit
    position: S
    proto: /users/xzhu/adn-compiler/examples/proto/geo.proto
  search->rate:
  - method: GetRates
    name: metrics
    position: C/S
    proto: /users/xzhu/adn-compiler/examples/proto/rate.proto
  - method: GetRates
    name: aclstrong
    position: C/S
    proto: /users/xzhu/adn-compiler/examples/proto/rate.proto
  - method: GetRates
    name: circuitbreaker
    position: S
    proto: /users/xzhu/adn-compiler/examples/proto/rate.proto
  - method: GetRates
    name: ratelimit
    position: S
    proto: /users/xzhu/adn-compiler/examples/proto/rate.proto
  - method: GetRates
    name: lbstickystrong
    position: S
    proto: /users/xzhu/adn-compiler/examples/proto/rate.proto
